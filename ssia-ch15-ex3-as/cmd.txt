keytool -genkeypair -alias ssia -keyalg RSA -keypass ssia123 -keystore ssia.jks -storepass ssia123

keytool -list -rfc --keystore ssia.jks
//openssl x509 -inform pem -pubkey

curl -v -XPOST -u client:secret "http://localhost:8080/oauth/token?grant_type=password&username=john&password=12345&scope=read"
curl -u resourceserver:resourceserversecret http://localhost:8080/oauth/token_key
curl -H "Authorization:Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NDg0OTY1MzYsInVzZXJfbmFtZSI6ImpvaG4iLCJhdXRob3JpdGllcyI6WyJyZWFkIl0sImp0aSI6IjE2ZmNmZGQzLWM3NTktNDFjNS04MTBkLWMzMjYyYWU1Mjg5MSIsImNsaWVudF9pZCI6ImNsaWVudCIsInNjb3BlIjpbInJlYWQiXX0.HDOu_AdHNEpSxsub299GKahYU-lttiWc4hWs2D4MH1YTYqKbN9SvTr4vBwvYjXrX8j5iMnpaH5PoafikOJ1F88O0VgRdSMDVmOoqPy9023a2h91KKmcgh6Uf9_3dJJkANWykqNkh_Q7kvzIinyBKDRjJmWc89cgwIKqBfSItuwtobBTBPR12EHWTo3kirSYQWfFDYlsuiAlW0Xa166MzUfjtPuVmnL0y5f1ocq9ifRwgZnQLfcP3V5NImYsuhZaUMpembJST61D9B-eJmAAu-yEC-9CVWaw4oqIsBdzimouDvmkPuBc4Fv_q6IBkKdmikPq5pFLQnU9zM8n6wR_IcQ","token_type":"bearer","refresh_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsicmVhZCJdLCJhdGkiOiIxNmZjZmRkMy1jNzU5LTQxYzUtODEwZC1jMzI2MmFlNTI4OTEiLCJleHAiOjE2NTEwNDUzMzYsImF1dGhvcml0aWVzIjpbInJlYWQiXSwianRpIjoiZDUxMzY2Y2EtN2FiMS00ZTg3LTkzNDUtNjMzMmZhMzdlZTQ2IiwiY2xpZW50X2lkIjoiY2xpZW50In0.IFGDkwgkEfrac-KMuoxkD2mhHCWYH6MQ_pK1nXjAtVTEzG93nGAGbXEm23cjl5kTJxJt3rNoZSWWVEflmS60ZWng9E1raf_7D34TipNWbGVxq6uDrIjusZcDa_4LgtawwG3lz7BtNqs52M-dWz1iZWBEZyAMOw9NAXQv1Gz8eEiSvKystWgmeHzGvaJtJQ_1HAqPaxQExpfLYASRivBRCiW_WDp-1XfuzXcR6rOvFytyFgUeFUk0udp0MWKvzeNnWR0iC-cb82TzeAQejAG16qU05K8ezAQPmdrm7dBNeCVzOM_I9SCjdc9WzJ8KDLSCi-ZfX9WTzSJ_s5QfhhfQDQ" http://localhost:9090/hello

C:\Users\tangshu>curl -u resourceserver:resourceserversecret http://localhost:8080/oauth/token_key
{"alg":"SHA256withRSA","value":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAhORXDLLrdozoNFsIyaY48NwZaSP2f94JobhEV1CYw4ImqOH7My+odLyI063aDu0HLOeV0yGUj+oZVRNM/8Y5Qhl/fIRZeCtCDVybT7yJdBz/WvzAulfI4aGWSdjGUCwS88z5Af2BJUKGv7bkwRtaF+btTq8OEC/ke0GKOkWh2nGDKeHK645OOv59qLEoa8v6Ns/SveQCfB93Zx7V+utuV6Xjp8jqUN2X5MtM9+AQ2eihhTuLGCfZm0c51QXUihXYx4GH4kLMOULOXvI3uCSdrgkF6heTFRhN6sPCex1TEWB1mbGpCDGkRZ6Q0IeSKb5fcuW+LhUqfTwCKz6cvXT6kwIDAQAB\n-----END PUBLIC KEY-----"}

C:\Users\tangshu>curl -v -XPOST -u client:secret "http://localhost:8080/oauth/token?grant_type=password&username=john&password=12345&scope=read"
*   Trying 127.0.0.1:8080...
* Connected to localhost (127.0.0.1) port 8080 (#0)
* Server auth using Basic with user 'client'
> POST /oauth/token?grant_type=password&username=john&password=12345&scope=read HTTP/1.1
> Host: localhost:8080
> Authorization: Basic Y2xpZW50OnNlY3JldA==
> User-Agent: curl/7.79.1
> Accept: */*
>
* Mark bundle as not supporting multiuse
< HTTP/1.1 200
< Cache-Control: no-store
< Pragma: no-cache
< X-Content-Type-Options: nosniff
< X-XSS-Protection: 1; mode=block
< X-Frame-Options: DENY
< Content-Type: application/json;charset=UTF-8
< Transfer-Encoding: chunked
< Date: Mon, 28 Mar 2022 07:42:16 GMT
<
{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NDg0OTY1MzYsInVzZXJfbmFtZSI6ImpvaG4iLCJhdXRob3JpdGllcyI6WyJyZWFkIl0sImp0aSI6IjE2ZmNmZGQzLWM3NTktNDFjNS04MTBkLWMzMjYyYWU1Mjg5MSIsImNsaWVudF9pZCI6ImNsaWVudCIsInNjb3BlIjpbInJlYWQiXX0.HDOu_AdHNEpSxsub299GKahYU-lttiWc4hWs2D4MH1YTYqKbN9SvTr4vBwvYjXrX8j5iMnpaH5PoafikOJ1F88O0VgRdSMDVmOoqPy9023a2h91KKmcgh6Uf9_3dJJkANWykqNkh_Q7kvzIinyBKDRjJmWc89cgwIKqBfSItuwtobBTBPR12EHWTo3kirSYQWfFDYlsuiAlW0Xa166MzUfjtPuVmnL0y5f1ocq9ifRwgZnQLfcP3V5NImYsuhZaUMpembJST61D9B-eJmAAu-yEC-9CVWaw4oqIsBdzimouDvmkPuBc4Fv_q6IBkKdmikPq5pFLQnU9zM8n6wR_IcQ","token_type":"bearer","refresh_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsicmVhZCJdLCJhdGkiOiIxNmZjZmRkMy1jNzU5LTQxYzUtODEwZC1jMzI2MmFlNTI4OTEiLCJleHAiOjE2NTEwNDUzMzYsImF1dGhvcml0aWVzIjpbInJlYWQiXSwianRpIjoiZDUxMzY2Y2EtN2FiMS00ZTg3LTkzNDUtNjMzMmZhMzdlZTQ2IiwiY2xpZW50X2lkIjoiY2xpZW50In0.IFGDkwgkEfrac-KMuoxkD2mhHCWYH6MQ_pK1nXjAtVTEzG93nGAGbXEm23cjl5kTJxJt3rNoZSWWVEflmS60ZWng9E1raf_7D34TipNWbGVxq6uDrIjusZcDa_4LgtawwG3lz7BtNqs52M-dWz1iZWBEZyAMOw9NAXQv1Gz8eEiSvKystWgmeHzGvaJtJQ_1HAqPaxQExpfLYASRivBRCiW_WDp-1XfuzXcR6rOvFytyFgUeFUk0udp0MWKvzeNnWR0iC-cb82TzeAQejAG16qU05K8ezAQPmdrm7dBNeCVzOM_I9SCjdc9WzJ8KDLSCi-ZfX9WTzSJ_s5QfhhfQDQ","expires_in":43199,"scope":"read","jti":"16fcfdd3-c759-41c5-810d-c3262ae52891"}* Connection #0 to host localhost left intact


C:\Users\tangshu>curl -H "Authorization:Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NDg0OTY1MzYsInVzZXJfbmFtZSI6ImpvaG4iLCJhdXRob3JpdGllcyI6WyJyZWFkIl0sImp0aSI6IjE2ZmNmZGQzLWM3NTktNDFjNS04MTBkLWMzMjYyYWU1Mjg5MSIsImNsaWVudF9pZCI6ImNsaWVudCIsInNjb3BlIjpbInJlYWQiXX0.HDOu_AdHNEpSxsub299GKahYU-lttiWc4hWs2D4MH1YTYqKbN9SvTr4vBwvYjXrX8j5iMnpaH5PoafikOJ1F88O0VgRdSMDVmOoqPy9023a2h91KKmcgh6Uf9_3dJJkANWykqNkh_Q7kvzIinyBKDRjJmWc89cgwIKqBfSItuwtobBTBPR12EHWTo3kirSYQWfFDYlsuiAlW0Xa166MzUfjtPuVmnL0y5f1ocq9ifRwgZnQLfcP3V5NImYsuhZaUMpembJST61D9B-eJmAAu-yEC-9CVWaw4oqIsBdzimouDvmkPuBc4Fv_q6IBkKdmikPq5pFLQnU9zM8n6wR_IcQ","token_type":"bearer","refresh_token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX25hbWUiOiJqb2huIiwic2NvcGUiOlsicmVhZCJdLCJhdGkiOiIxNmZjZmRkMy1jNzU5LTQxYzUtODEwZC1jMzI2MmFlNTI4OTEiLCJleHAiOjE2NTEwNDUzMzYsImF1dGhvcml0aWVzIjpbInJlYWQiXSwianRpIjoiZDUxMzY2Y2EtN2FiMS00ZTg3LTkzNDUtNjMzMmZhMzdlZTQ2IiwiY2xpZW50X2lkIjoiY2xpZW50In0.IFGDkwgkEfrac-KMuoxkD2mhHCWYH6MQ_pK1nXjAtVTEzG93nGAGbXEm23cjl5kTJxJt3rNoZSWWVEflmS60ZWng9E1raf_7D34TipNWbGVxq6uDrIjusZcDa_4LgtawwG3lz7BtNqs52M-dWz1iZWBEZyAMOw9NAXQv1Gz8eEiSvKystWgmeHzGvaJtJQ_1HAqPaxQExpfLYASRivBRCiW_WDp-1XfuzXcR6rOvFytyFgUeFUk0udp0MWKvzeNnWR0iC-cb82TzeAQejAG16qU05K8ezAQPmdrm7dBNeCVzOM_I9SCjdc9WzJ8KDLSCi-ZfX9WTzSJ_s5QfhhfQDQ" http://localhost:9090/hello
Hello!